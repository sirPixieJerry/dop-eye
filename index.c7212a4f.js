let e,t,l;const o=()=>{let e=[,,,].fill(0).map(()=>0|Math.floor(255*Math.random()));return`rgb(${e.join(",")})`},n=e=>{let t=document.getElementById("box"),l=document.querySelector("path");null!==t&&null!==l&&(t.style.backgroundColor=e,l.style.fill=e)},r=e=>{let t=document.getElementById("reflex-one"),l=document.getElementById("reflex-two");null!==t&&null!==l&&(t.style.backgroundColor=e,l.style.backgroundColor=e)},a=e=>{if(void 0===e)return;let t=document.getElementById(e.target);switch(e.target){case"box":case"path":n(e.color);break;case"reflex-one":case"reflex-two":r(e.color);break;default:if(null===t)return;t.style.backgroundColor=e.color}},c=[];let d=c.length-1,u=!0,i=!1;const s=()=>{d+=1},m=()=>{d<0||(a(c[d]),d-=1)},g=()=>{d>c.length-1||(a(c[d]),d+=1)},f=()=>{let e=()=>{u||i||!(c.length>0)||(console.log(c.length),a(c.pop()),t=setTimeout(e,l=Math.max(l-100,100)))};e()},h=e=>{u=e},b=()=>{i=!i},p=()=>{u||i||(clearTimeout(e),clearTimeout(t),l=1e3,e=setTimeout(()=>{f()},5e3))},y=e=>{c.push(e)},k=e=>{if(e instanceof HTMLElement){let t=window.getComputedStyle(e);y({target:e.id,color:t.backgroundColor}),s()}if(e instanceof SVGElement){let t=window.getComputedStyle(e);y({target:e.id,color:t.fill}),s()}};let E=0;const w=e=>{0!==c.length&&(E=Math.floor(e/window.innerWidth*c.length),a(c[E]))};let x=!1;const v=e=>{let t=document.createElement("span");t.classList.add("ripple"),e.appendChild(t),setTimeout(()=>{t.remove()},600)};document.addEventListener("mousedown",()=>{x=!0,h(!0)}),document.addEventListener("mouseup",()=>{x=!1,h(!1)}),document.addEventListener("mousemove",e=>{x&&w(e.clientX)}),document.addEventListener("click",e=>{if(p(),null===e.target)return;let t=e.target;if(!t.matches(".clickable"))return;let l=o();switch(t.id){case"box":case"path":k(t),n(l);break;case"reflex-one":case"reflex-two":k(t),r(l);break;default:k(t),t.style.backgroundColor=l}}),document.querySelectorAll("button").forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;v(t),"pause"===t.id&&(t.classList.toggle("active"),b()),"redo"===t.id&&g(),"undo"===t.id&&m()})});
//# sourceMappingURL=index.c7212a4f.js.map
