{"mappings":"IQMI,EACA,ELJG,MAAM,EAA0B,KACrC,IAAM,EAAQ,KAAM,CACjB,IAAI,CAAC,GACL,GAAG,CAAC,IAAM,AAAoC,EAApC,KAAK,KAAK,CAAC,AANZ,IAMY,KAAK,MAAM,KACnC,MAAO,OAAY,EAAM,IAAI,CAAC,OAAO,AACvC,ECRa,EAAW,AAAC,IACvB,IAAM,EAAM,SAAS,cAAc,CAAC,OAC9B,EAAO,SAAS,aAAa,CAAC,OAExB,QAAR,GAAgB,AAAS,OAAT,IAEpB,EAAI,KAAK,CAAC,eAAe,CAAG,EAC5B,EAAK,KAAK,CAAC,IAAI,CAAG,EACpB,ECRa,EAAkB,AAAC,IAC9B,IAAM,EAAY,SAAS,cAAc,CAAC,cACpC,EAAY,SAAS,cAAc,CAAC,aAExB,QAAd,GAAsB,AAAc,OAAd,IAE1B,EAAU,KAAK,CAAC,eAAe,CAAG,EAClC,EAAU,KAAK,CAAC,eAAe,CAAG,EACpC,EEHM,EAAoB,EAAE,CAEtB,EAAW,AAAC,IAChB,EAAM,IAAI,CAAC,EACb,EAEa,EAAoB,AAAC,IAChC,GAAI,aAAkB,YAAa,CACjC,IAAM,EAAgB,OAAO,gBAAgB,CAAC,GAC9C,EAAS,CACP,OAAQ,EAAO,EAAE,CACjB,MAAO,EAAc,eAAe,AACtC,EACF,CACA,GAAI,aAAkB,WAAY,CAChC,IAAM,EAAgB,OAAO,gBAAgB,CAAC,GAC9C,EAAS,CACP,OAAQ,EAAO,EAAE,CACjB,MAAO,EAAc,IAAI,AAC3B,EACF,CACF,EEtBa,EAAqB,AAAC,IACjC,GAAI,AAAS,KAAA,IAAT,EAAoB,OAExB,IAAM,EAAU,SAAS,cAAc,CAAC,EAAK,MAAM,EAEnD,OAAQ,EAAK,MAAM,EACjB,IAAK,MACL,IAAK,OACH,AAAA,EAAS,EAAK,KAAK,EACnB,KAEF,KAAK,aACL,IAAK,aACH,AAAA,EAAgB,EAAK,KAAK,EAC1B,KAEF,SACE,GAAI,AAAY,OAAZ,EAAkB,MACtB,CAAA,EAAQ,KAAK,CAAC,eAAe,CAAG,EAAK,KAAK,AAC9C,CACF,EDhBA,IAAI,EAAa,CAAA,EACb,EANU,IAQd,MAAM,EAAS,KACb,GAAI,CAAC,EAAY,OACjB,IAAM,EAAa,KACb,AAAA,EAAM,MAAM,CAAG,IAEjB,AAAA,EADoB,AAAA,EAAM,GAAG,IAK7B,EAAW,WAAW,EAFtB,EAAe,KAAK,GAAG,CAAC,EAAe,IAAK,MAIhD,EACA,GACF,EAEa,EAAmB,AAAC,IAC/B,EAAa,CACf,EAEa,EAAa,KACxB,aAAa,GACb,aAAa,GACb,EAAW,WAAW,KACpB,EAAiB,CAAA,GACjB,GACF,EAhCc,IAiChB,EF1Ba,EAAoB,EAAE,CAKjC,SAAS,gBAAgB,CAAC,QAAS,AAAC,IAIlC,GAHA,AAAA,EAAiB,CAAA,GACjB,AAAA,IAEI,AAAe,OAAf,EAAI,MAAM,CAAW,OACzB,IAAM,EAAS,EAAI,MAAM,CACzB,GAAI,CAAC,EAAO,OAAO,CAAC,cAAe,OAEnC,IAAM,EAAQ,AAAA,IAEd,OAAQ,EAAO,EAAE,EACf,IAAK,MACL,IAAK,OACH,AAAA,EAAkB,GAClB,AAAA,EAAS,GACT,KAEF,KAAK,aACL,IAAK,aACH,AAAA,EAAkB,GAClB,AAAA,EAAgB,GAChB,KAEF,SACE,AAAA,EAAkB,GAClB,EAAO,KAAK,CAAC,eAAe,CAAG,CACnC,CACF","sources":["<anon>","src/ts/index.ts","src/modules/index.ts","src/modules/generateBackgroundColor.ts","src/modules/colorSVG.ts","src/modules/colorReflection.ts","src/modules/handleClickableElement.ts","src/modules/recordColorChange.ts","src/modules/rewindColors.ts","src/modules/applyColorFromStep.ts"],"sourcesContent":["const $0badc424dcc51d88$var$RANGE = 255;\nconst $0badc424dcc51d88$var$MODEL = \"rgb\";\nconst $0badc424dcc51d88$export$b2c9790f7b509997 = ()=>{\n    const color = Array(3).fill(0).map(()=>Math.floor(Math.random() * $0badc424dcc51d88$var$RANGE) | 0);\n    return `${$0badc424dcc51d88$var$MODEL}(${color.join(\",\")})`;\n};\n\n\nconst $1a30d7dd78ed78bd$export$76dc85c2c2ffbe9e = (color)=>{\n    const box = document.getElementById(\"box\");\n    const path = document.querySelector(\"path\");\n    if (box === null || path === null) return;\n    box.style.backgroundColor = color;\n    path.style.fill = color;\n};\n\n\nconst $c170ef335cfad920$export$64e2b6bc85b3cd29 = (color)=>{\n    const reflexOne = document.getElementById(\"reflex-one\");\n    const reflexTwo = document.getElementById(\"reflex-two\");\n    if (reflexOne === null || reflexTwo === null) return;\n    reflexOne.style.backgroundColor = color;\n    reflexTwo.style.backgroundColor = color;\n};\n\n\n\n\n\nconst $3ee857463697fb16$var$steps = [];\nconst $3ee857463697fb16$var$pushStep = (step)=>{\n    $3ee857463697fb16$var$steps.push(step);\n};\nconst $3ee857463697fb16$export$1a2bcf970dbb3bd = (target)=>{\n    if (target instanceof HTMLElement) {\n        const computedStyle = window.getComputedStyle(target);\n        $3ee857463697fb16$var$pushStep({\n            target: target.id,\n            color: computedStyle.backgroundColor\n        });\n    }\n    if (target instanceof SVGElement) {\n        const computedStyle = window.getComputedStyle(target);\n        $3ee857463697fb16$var$pushStep({\n            target: target.id,\n            color: computedStyle.fill\n        });\n    }\n};\n\n\n\n\n\nconst $967393d0aa96b631$export$7aba65b795f139f4 = (step)=>{\n    if (step === undefined) return;\n    const element = document.getElementById(step.target);\n    switch(step.target){\n        case \"box\":\n        case \"path\":\n            (0, $1a30d7dd78ed78bd$export$76dc85c2c2ffbe9e)(step.color);\n            break;\n        case \"reflex-one\":\n        case \"reflex-two\":\n            (0, $c170ef335cfad920$export$64e2b6bc85b3cd29)(step.color);\n            break;\n        default:\n            if (element === null) return;\n            element.style.backgroundColor = step.color;\n    }\n};\n\n\nconst $1e9ea166a574d843$var$DELAY = 1000;\nconst $1e9ea166a574d843$var$TIMEOUT = 5000;\nlet $1e9ea166a574d843$var$idleTime;\nlet $1e9ea166a574d843$var$interval;\nlet $1e9ea166a574d843$var$stopSignal = false;\nlet $1e9ea166a574d843$var$initialDelay = $1e9ea166a574d843$var$DELAY;\nconst $1e9ea166a574d843$var$rewind = ()=>{\n    if (!$1e9ea166a574d843$var$stopSignal) return;\n    const removeStep = ()=>{\n        if ((0, $9cfe05c3c3a9492e$export$be3f796aed065412).length > 0) {\n            const removedStep = (0, $9cfe05c3c3a9492e$export$be3f796aed065412).pop();\n            (0, $967393d0aa96b631$export$7aba65b795f139f4)(removedStep);\n            $1e9ea166a574d843$var$initialDelay = Math.max($1e9ea166a574d843$var$initialDelay - 100, 100);\n            $1e9ea166a574d843$var$interval = setTimeout(removeStep, $1e9ea166a574d843$var$initialDelay);\n        }\n    };\n    removeStep();\n};\nconst $1e9ea166a574d843$export$89c4be2edacb2449 = (value)=>{\n    $1e9ea166a574d843$var$stopSignal = value;\n};\nconst $1e9ea166a574d843$export$148d61ea341bbff7 = ()=>{\n    clearTimeout($1e9ea166a574d843$var$idleTime);\n    clearTimeout($1e9ea166a574d843$var$interval);\n    $1e9ea166a574d843$var$idleTime = setTimeout(()=>{\n        $1e9ea166a574d843$export$89c4be2edacb2449(true);\n        $1e9ea166a574d843$var$rewind();\n    }, $1e9ea166a574d843$var$TIMEOUT);\n};\n\n\nconst $9cfe05c3c3a9492e$export$be3f796aed065412 = [];\nconst $9cfe05c3c3a9492e$export$a1e04f038db6e793 = ()=>{\n    document.addEventListener(\"click\", (evt)=>{\n        (0, $1e9ea166a574d843$export$89c4be2edacb2449)(false);\n        (0, $1e9ea166a574d843$export$148d61ea341bbff7)();\n        if (evt.target === null) return;\n        const target = evt.target;\n        if (!target.matches(\".clickable\")) return;\n        const color = (0, $0badc424dcc51d88$export$b2c9790f7b509997)();\n        switch(target.id){\n            case \"box\":\n            case \"path\":\n                (0, $3ee857463697fb16$export$1a2bcf970dbb3bd)(target);\n                (0, $1a30d7dd78ed78bd$export$76dc85c2c2ffbe9e)(color);\n                break;\n            case \"reflex-one\":\n            case \"reflex-two\":\n                (0, $3ee857463697fb16$export$1a2bcf970dbb3bd)(target);\n                (0, $c170ef335cfad920$export$64e2b6bc85b3cd29)(color);\n                break;\n            default:\n                (0, $3ee857463697fb16$export$1a2bcf970dbb3bd)(target);\n                target.style.backgroundColor = color;\n        }\n    });\n};\n\n\n\n\n\n(()=>{\n    (0, $9cfe05c3c3a9492e$export$a1e04f038db6e793)();\n})();\n\n\n//# sourceMappingURL=index.a2cbc81a.js.map\n","import { handleClickableElement } from '../modules';\n\n((): void => {\n  handleClickableElement();\n})();\n","export * from './generateBackgroundColor';\nexport * from './colorSVG';\nexport * from './colorReflection';\nexport * from './handleClickableElement';\nexport * from './recordColorChange';\n","const RANGE = 255;\nconst MODEL = 'rgb';\n\nexport const generateBackgroundColor = (): string => {\n  const color = Array(3)\n    .fill(0)\n    .map(() => Math.floor(Math.random() * RANGE) | 0);\n  return `${MODEL}(${color.join(',')})`;\n};\n","export const colorSVG = (color: string): void => {\n  const box = document.getElementById('box');\n  const path = document.querySelector('path');\n\n  if (box === null || path === null) return;\n\n  box.style.backgroundColor = color;\n  path.style.fill = color;\n};\n","export const colorReflection = (color: string): void => {\n  const reflexOne = document.getElementById('reflex-one');\n  const reflexTwo = document.getElementById('reflex-two');\n\n  if (reflexOne === null || reflexTwo === null) return;\n\n  reflexOne.style.backgroundColor = color;\n  reflexTwo.style.backgroundColor = color;\n};\n","import { generateBackgroundColor } from './generateBackgroundColor';\nimport { colorSVG } from './colorSVG';\nimport { colorReflection } from './colorReflection';\nimport { recordColorChange } from './recordColorChange';\nimport { resetTimer, updateStopSignal } from './rewindColors';\n\nexport type StepType = {\n  target: string;\n  color: string;\n};\n\nexport const steps: StepType[] = [];\n\ntype ClickableElement = HTMLElement & { id: string };\n\nexport const handleClickableElement = (): void => {\n  document.addEventListener('click', (evt): void => {\n    updateStopSignal(false);\n    resetTimer();\n\n    if (evt.target === null) return;\n    const target = evt.target as ClickableElement;\n    if (!target.matches('.clickable')) return;\n\n    const color = generateBackgroundColor();\n\n    switch (target.id) {\n      case 'box':\n      case 'path':\n        recordColorChange(target);\n        colorSVG(color);\n        break;\n\n      case 'reflex-one':\n      case 'reflex-two':\n        recordColorChange(target);\n        colorReflection(color);\n        break;\n\n      default:\n        recordColorChange(target);\n        target.style.backgroundColor = color;\n    }\n  });\n};\n","type StepType = {\n  target: string;\n  color: string;\n};\n\nconst steps: StepType[] = [];\n\nconst pushStep = (step: StepType): void => {\n  steps.push(step);\n};\n\nexport const recordColorChange = (target: Element): void => {\n  if (target instanceof HTMLElement) {\n    const computedStyle = window.getComputedStyle(target);\n    pushStep({\n      target: target.id,\n      color: computedStyle.backgroundColor,\n    });\n  }\n  if (target instanceof SVGElement) {\n    const computedStyle = window.getComputedStyle(target);\n    pushStep({\n      target: target.id,\n      color: computedStyle.fill,\n    });\n  }\n};\n","import { steps } from './handleClickableElement';\nimport { applyColorFromStep } from './applyColorFromStep';\n\nconst DELAY = 1000;\nconst TIMEOUT = 5000;\n\nlet idleTime: NodeJS.Timeout;\nlet interval: NodeJS.Timeout;\nlet stopSignal = false;\nlet initialDelay = DELAY;\n\nconst rewind = (): void => {\n  if (!stopSignal) return;\n  const removeStep = (): void => {\n    if (steps.length > 0) {\n      const removedStep = steps.pop();\n      applyColorFromStep(removedStep);\n\n      initialDelay = Math.max(initialDelay - 100, 100);\n\n      interval = setTimeout(removeStep, initialDelay);\n    }\n  };\n  removeStep();\n};\n\nexport const updateStopSignal = (value: boolean): void => {\n  stopSignal = value;\n};\n\nexport const resetTimer = (): void => {\n  clearTimeout(idleTime);\n  clearTimeout(interval);\n  idleTime = setTimeout(() => {\n    updateStopSignal(true);\n    rewind();\n  }, TIMEOUT);\n};\n","import { colorReflection } from './colorReflection';\nimport { colorSVG } from './colorSVG';\nimport type { StepType } from './handleClickableElement';\n\nexport const applyColorFromStep = (step: StepType | undefined): void => {\n  if (step === undefined) return;\n\n  const element = document.getElementById(step.target);\n\n  switch (step.target) {\n    case 'box':\n    case 'path':\n      colorSVG(step.color);\n      break;\n\n    case 'reflex-one':\n    case 'reflex-two':\n      colorReflection(step.color);\n      break;\n\n    default:\n      if (element === null) return;\n      element.style.backgroundColor = step.color;\n  }\n};\n"],"names":["$1e9ea166a574d843$var$idleTime","$1e9ea166a574d843$var$interval","$0badc424dcc51d88$export$b2c9790f7b509997","color","Array","fill","map","Math","floor","random","join","$1a30d7dd78ed78bd$export$76dc85c2c2ffbe9e","box","document","getElementById","path","querySelector","style","backgroundColor","$c170ef335cfad920$export$64e2b6bc85b3cd29","reflexOne","reflexTwo","$3ee857463697fb16$var$steps","$3ee857463697fb16$var$pushStep","step","push","$3ee857463697fb16$export$1a2bcf970dbb3bd","target","HTMLElement","computedStyle","window","getComputedStyle","id","SVGElement","$967393d0aa96b631$export$7aba65b795f139f4","undefined","element","$1e9ea166a574d843$var$stopSignal","$1e9ea166a574d843$var$initialDelay","$1e9ea166a574d843$var$rewind","removeStep","$9cfe05c3c3a9492e$export$be3f796aed065412","length","pop","setTimeout","max","$1e9ea166a574d843$export$89c4be2edacb2449","value","$1e9ea166a574d843$export$148d61ea341bbff7","clearTimeout","addEventListener","evt","matches"],"version":3,"file":"index.a2cbc81a.js.map"}